<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Accounts</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-image: url('images/1.jpg'); /* Replace 'images/1.jpg' with the URL of your background image */
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .container {
    width: 100%;
    max-width: 800px;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.9); /* Transparent white background */
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
  h2 {
    margin-top: 0;
    color: #333;
  }
  .account-list {
    margin-top: 20px;
  }
  .account-item {
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid #ccc;
    padding: 10px;
    background-color: #fff;
    border-radius: 4px;
  }
  .account-item button {
    background-color: #dc3545;
    color: #fff;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
  }
  .account-item button:hover {
    background-color: #c82333;
  }
  .back-button {
    position: absolute;
    top: 20px;
    left: 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
  }
  .back-button:hover {
    background-color: #0056b3;
  }
</style>
</head>
<body>

<button onclick="goBack()" class="back-button">Back</button>

<div class="container">
  <h2>User Accounts</h2>
  <div class="account-list" id="accountList">
    <!-- User accounts will be displayed here -->
  </div>
</div>

<script>

// Function to go back to the previous page
function goBack() {
  window.history.back();
}

// Function to retrieve user accounts from localStorage
function getUserAccounts() {
  var accounts = [];
  for (var key in localStorage) {
    if (localStorage.hasOwnProperty(key) && key !== "length" && key.startsWith("user_")) {
      accounts.push({ username: key.substring(5), password: localStorage.getItem(key) });
    }
  }
  return accounts;
}

// Function to display user accounts on the page
function displayUserAccounts() {
  var accountList = document.getElementById("accountList");
  accountList.innerHTML = ""; // Clear previous accounts

  // Loop through localStorage to get user accounts with "user_" prefix
  var accounts = getUserAccounts();
  accounts.forEach(function(account) {
    var accountItem = document.createElement("div");
    accountItem.classList.add("account-item");
    accountItem.innerHTML = `
      <div>${account.username}</div>
      <button onclick="updateAccount('${account.username}')">Update</button>
      <button onclick="deleteAccount('${account.username}')">Delete</button>
    `;
    accountList.appendChild(accountItem);
  });
}

// Function to update a user account
function updateAccount(username) {
  var newPassword = prompt("Enter new password for " + username + ":");
  if (newPassword) {
    localStorage.setItem("user_" + username, newPassword);
    alert("Account updated successfully!");
    displayUserAccounts();
  }
}

// Function to delete a user account
function deleteAccount(username) {
  var confirmDelete = confirm("Are you sure you want to delete the account for " + username + "?");
  if (confirmDelete) {
    localStorage.removeItem("user_" + username);
    alert("Account deleted successfully!");
    displayUserAccounts();
  }
}

// Call function to display user accounts when the page loads
displayUserAccounts();
</script>

</body>
</html>
